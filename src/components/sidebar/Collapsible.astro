---
import { getCountId } from '@/utils/collapsibleCountStore'

interface Props {
  isTree: boolean
  class?: string
}
let { isTree, class: className } = Astro.props

const count = getCountId()
---

<div class:list={['collapsible', className]}>
  <input type="checkbox" id={count} class="collapsible-checkbox hidden" />
  <label for={count}>
    <div>
      <slot name="label" />
    </div>
  </label>
  <div
    class="collapsible-content
      ml-2 px-2
      border-l-[1px] border-zinc-100"
  >
    <slot />
  </div>
</div>

<style>
  .collapsible-content {
    display: none;
  }
  .collapsible-checkbox:checked + label + .collapsible-content {
    display: block;
  }
</style>
